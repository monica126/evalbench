setup_commands:
  excluded_columns:
    postgres: []
    mysql: []
  pre_setup:
    postgres:
    - "SET statement_timeout = 0;"
    - "SET lock_timeout = 0;"
    - "SET idle_in_transaction_session_timeout = 0;"
    - "SET client_encoding = 'UTF8';"
    - "SET standard_conforming_strings = on;"
    - "SELECT pg_catalog.set_config('search_path', '', false);"
    - "SET check_function_bodies = false;"
    - "SET xmloption = content;"
    - "SET client_min_messages = warning;"
    - "SET row_security = off;"
    - "SET statement_timeout = 0;"
    - "SET lock_timeout = 0;"
    - "SET idle_in_transaction_session_timeout = 0;"
    - "SET client_encoding = 'UTF8';"
    - "SET standard_conforming_strings = on;"
    - "SELECT pg_catalog.set_config('search_path', '', false);"
    - "SET check_function_bodies = false;"
    - "SET xmloption = content;"
    - "SET client_min_messages = warning;"
    - "SET row_security = off;"
    - "SET default_tablespace = '';"
    - "SET default_table_access_method = heap;"
    mysql: []
  post_schema_creation:
    postgres:
    - "ALTER TABLE public.tbl_agent OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_agent_user_association OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_assets OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_bank OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_comm_funds OWNER TO nl2sql;"
    - "CREATE SEQUENCE public.tbl_comm_funds_fund_id_seq AS integer START WITH 1 INCREMENT BY 1 NO MINVALUE NO MAXVALUE CACHE 1;"
    - "ALTER SEQUENCE public.tbl_comm_funds_fund_id_seq OWNER TO nl2sql;"
    - "ALTER SEQUENCE public.tbl_comm_funds_fund_id_seq OWNED BY public.tbl_comm_funds.fund_id;"
    - "ALTER TABLE public.tbl_comm_funds_x_user OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_currency OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_currency_exchange OWNER TO nl2sql;"
    - "CREATE SEQUENCE public.tbl_currency_exchange_exchange_id_seq AS integer START WITH 1 INCREMENT BY 1 NO MINVALUE NO MAXVALUE CACHE 1;"
    - "ALTER SEQUENCE public.tbl_currency_exchange_exchange_id_seq OWNER TO nl2sql;"
    - "ALTER SEQUENCE public.tbl_currency_exchange_exchange_id_seq OWNED BY public.tbl_currency_exchange.exchange_id;"
    - "ALTER TABLE public.tbl_currency_exchange_x_user OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_expenses OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_income OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_liabilities OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_liability OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_login OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_payment_method OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_reports OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_transaction_history OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_user OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_user_settings OWNER TO nl2sql;"
    - "CREATE SEQUENCE public.tbl_user_user_id_seq AS integer START WITH 1 INCREMENT BY 1 NO MINVALUE NO MAXVALUE CACHE 1;"
    - "ALTER SEQUENCE public.tbl_user_user_id_seq OWNER TO nl2sql;"
    - "ALTER SEQUENCE public.tbl_user_user_id_seq OWNED BY public.tbl_user.user_id;"
    - "ALTER TABLE public.tbl_wallet OWNER TO nl2sql;"
    - "CREATE SEQUENCE public.tbl_wallet_wallet_id_seq AS integer START WITH 1 INCREMENT BY 1 NO MINVALUE NO MAXVALUE CACHE 1;"
    - "ALTER SEQUENCE public.tbl_wallet_wallet_id_seq OWNER TO nl2sql;"
    - "ALTER SEQUENCE public.tbl_wallet_wallet_id_seq OWNED BY public.tbl_wallet.wallet_id;"
    - "ALTER TABLE public.tbl_watchlist OWNER TO nl2sql;"
    - "CREATE SEQUENCE public.tbl_watchlist_watchlist_id_seq AS integer START WITH 1 INCREMENT BY 1 NO MINVALUE NO MAXVALUE CACHE 1;"
    - "ALTER SEQUENCE public.tbl_watchlist_watchlist_id_seq OWNER TO nl2sql;"
    - "ALTER SEQUENCE public.tbl_watchlist_watchlist_id_seq OWNED BY public.tbl_watchlist.watchlist_id;"
    - "ALTER TABLE ONLY public.tbl_comm_funds ALTER COLUMN fund_id SET DEFAULT nextval('public.tbl_comm_funds_fund_id_seq'::regclass);"
    - "ALTER TABLE ONLY public.tbl_currency_exchange ALTER COLUMN exchange_id SET DEFAULT nextval('public.tbl_currency_exchange_exchange_id_seq'::regclass);"
    - "ALTER TABLE ONLY public.tbl_user ALTER COLUMN user_id SET DEFAULT nextval('public.tbl_user_user_id_seq'::regclass);"
    - "ALTER TABLE ONLY public.tbl_wallet ALTER COLUMN wallet_id SET DEFAULT nextval('public.tbl_wallet_wallet_id_seq'::regclass);"
    - "ALTER TABLE ONLY public.tbl_watchlist ALTER COLUMN watchlist_id SET DEFAULT nextval('public.tbl_watchlist_watchlist_id_seq'::regclass);"
    mysql:
    - "ALTER TABLE tbl_agent_user_association ADD PRIMARY KEY (`agent_id`,`user_id`)"
    - "ALTER TABLE tbl_agent ADD PRIMARY KEY (`agent_id`)"
    - "ALTER TABLE tbl_assets ADD PRIMARY KEY (`asset_id`), ADD KEY `user_id` (`user_id`)"
    - "ALTER TABLE tbl_bank ADD PRIMARY KEY (`bank_id`)"
    - "ALTER TABLE tbl_comm_funds_x_user ADD PRIMARY KEY (`user_id`,`fund_id`)"
    - "ALTER TABLE tbl_comm_funds ADD PRIMARY KEY (`fund_id`)"
    - "ALTER TABLE tbl_currency_exchange_x_user ADD PRIMARY KEY (`exchange_id`,`user_id`)"
    - "ALTER TABLE tbl_currency_exchange ADD PRIMARY KEY (`exchange_id`)"
    - "ALTER TABLE tbl_currency ADD PRIMARY KEY (`currency_id`)"
    - "ALTER TABLE tbl_expenses ADD PRIMARY KEY (`expense_id`), ADD KEY `user_id` (`user_id`), ADD KEY `payment_method_id` (`payment_method_id`)"
    - "ALTER TABLE tbl_income ADD PRIMARY KEY (`income_id`), ADD KEY `user_id` (`user_id`), ADD KEY `payment_method_id` (`payment_method_id`)"
    - "ALTER TABLE tbl_liabilities ADD PRIMARY KEY (`liability_id`)"
    - "ALTER TABLE tbl_liability ADD PRIMARY KEY (`liability_id`), ADD KEY `user_id` (`user_id`)"
    - "ALTER TABLE tbl_login ADD PRIMARY KEY (`login_id`), ADD KEY `user_id` (`user_id`)"
    - "ALTER TABLE tbl_payment_method ADD PRIMARY KEY (`payment_method_id`), ADD KEY `user_id` (`user_id`)"
    - "ALTER TABLE tbl_reports ADD PRIMARY KEY (`report_id`), ADD KEY `user_id` (`user_id`)"
    - "ALTER TABLE tbl_transaction_history ADD PRIMARY KEY (`transaction_id`), ADD KEY `tbl_transaction_history_ibfk_1` (`user_id`), ADD KEY `tbl_transaction_history_ibfk_2` (`currency_id`), ADD KEY `tbl_transaction_history_ibfk_3` (`bank_id`)"
    - "ALTER TABLE tbl_user_settings ADD PRIMARY KEY (`setting_id`), ADD KEY `user_id` (`user_id`)"
    - "ALTER TABLE tbl_user ADD PRIMARY KEY (`user_id`)"
    - "ALTER TABLE tbl_wallet ADD PRIMARY KEY (`wallet_id`), ADD KEY `user_id` (`user_id`), ADD KEY `currency_id` (`currency_id`), ADD KEY `asset_id` (`asset_id`)"
    - "ALTER TABLE tbl_watchlist ADD PRIMARY KEY (`watchlist_id`), ADD KEY `user_id` (`user_id`), ADD KEY `asset_id` (`asset_id`),"
    # Foreign key constraints"
    - "ALTER TABLE tbl_assets ADD CONSTRAINT `tbl_assets_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `tbl_user` (`user_id`)"
    - "ALTER TABLE tbl_expenses ADD CONSTRAINT `tbl_expenses_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `tbl_user` (`user_id`), ADD CONSTRAINT `tbl_expenses_ibfk_2` FOREIGN KEY (`payment_method_id`) REFERENCES `tbl_payment_method` (`payment_method_id`)"
    - "ALTER TABLE tbl_income ADD CONSTRAINT `tbl_income_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `tbl_user` (`user_id`), ADD CONSTRAINT `tbl_income_ibfk_2` FOREIGN KEY (`payment_method_id`) REFERENCES `tbl_payment_method` (`payment_method_id`)"
    - "ALTER TABLE tbl_liability ADD CONSTRAINT `tbl_liability_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `tbl_user` (`user_id`)"
    - "ALTER TABLE tbl_login ADD CONSTRAINT `tbl_login_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `tbl_user` (`user_id`)"
    - "ALTER TABLE tbl_payment_method ADD CONSTRAINT `tbl_payment_method_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `tbl_user` (`user_id`)"
    - "ALTER TABLE tbl_reports ADD CONSTRAINT `tbl_reports_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `tbl_user` (`user_id`)"
    - "ALTER TABLE tbl_transaction_history ADD CONSTRAINT `tbl_transaction_history_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `tbl_user` (`user_id`), ADD CONSTRAINT `tbl_transaction_history_ibfk_2` FOREIGN KEY (`currency_id`) REFERENCES `tbl_currency` (`currency_id`), ADD CONSTRAINT `tbl_transaction_history_ibfk_3` FOREIGN KEY (`bank_id`) REFERENCES `tbl_bank` (`bank_id`)"
    - "ALTER TABLE tbl_user_settings ADD CONSTRAINT `tbl_user_settings_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `tbl_user` (`user_id`)"
    - "ALTER TABLE tbl_wallet ADD CONSTRAINT `tbl_wallet_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `tbl_user` (`user_id`), ADD CONSTRAINT `tbl_wallet_ibfk_2` FOREIGN KEY (`currency_id`) REFERENCES `tbl_currency` (`currency_id`), ADD CONSTRAINT `tbl_wallet_ibfk_3` FOREIGN KEY (`asset_id`) REFERENCES `tbl_assets` (`asset_id`)"
    - "ALTER TABLE tbl_watchlist ADD CONSTRAINT `tbl_watchlist_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `tbl_user` (`user_id`), ADD CONSTRAINT `tbl_watchlist_ibfk_2` FOREIGN KEY (`asset_id`) REFERENCES `tbl_assets` (`asset_id`)"
  post_setup:
    postgres:
    - "SELECT pg_catalog.setval('public.tbl_comm_funds_fund_id_seq', 1, false);"
    - "SELECT pg_catalog.setval('public.tbl_currency_exchange_exchange_id_seq', 1, false);"
    - "SELECT pg_catalog.setval('public.tbl_user_user_id_seq', 1, false);"
    - "SELECT pg_catalog.setval('public.tbl_wallet_wallet_id_seq', 1, false);"
    - "SELECT pg_catalog.setval('public.tbl_watchlist_watchlist_id_seq', 1, false);"
    - "ALTER TABLE ONLY public.tbl_agent ADD CONSTRAINT tbl_agent_pkey PRIMARY KEY (agent_id);"
    - "ALTER TABLE ONLY public.tbl_agent_user_association ADD CONSTRAINT tbl_agent_user_association_pkey PRIMARY KEY (agent_id, user_id);"
    - "ALTER TABLE ONLY public.tbl_assets ADD CONSTRAINT tbl_assets_pkey PRIMARY KEY (asset_id);"
    - "ALTER TABLE ONLY public.tbl_bank ADD CONSTRAINT tbl_bank_pkey PRIMARY KEY (bank_id);"
    - "ALTER TABLE ONLY public.tbl_comm_funds ADD CONSTRAINT tbl_comm_funds_pkey PRIMARY KEY (fund_id);"
    - "ALTER TABLE ONLY public.tbl_comm_funds_x_user ADD CONSTRAINT tbl_comm_funds_x_user_pkey PRIMARY KEY (user_id, fund_id);"
    - "ALTER TABLE ONLY public.tbl_currency_exchange ADD CONSTRAINT tbl_currency_exchange_pkey PRIMARY KEY (exchange_id);"
    - "ALTER TABLE ONLY public.tbl_currency_exchange_x_user ADD CONSTRAINT tbl_currency_exchange_x_user_pkey PRIMARY KEY (exchange_id, user_id);"
    - "ALTER TABLE ONLY public.tbl_currency ADD CONSTRAINT tbl_currency_pkey PRIMARY KEY (currency_id);"
    - "ALTER TABLE ONLY public.tbl_expenses ADD CONSTRAINT tbl_expenses_pkey PRIMARY KEY (expense_id);"
    - "ALTER TABLE ONLY public.tbl_income ADD CONSTRAINT tbl_income_pkey PRIMARY KEY (income_id);"
    - "ALTER TABLE ONLY public.tbl_liabilities ADD CONSTRAINT tbl_liabilities_pkey PRIMARY KEY (liability_id);"
    - "ALTER TABLE ONLY public.tbl_liability ADD CONSTRAINT tbl_liability_pkey PRIMARY KEY (liability_id);"
    - "ALTER TABLE ONLY public.tbl_login ADD CONSTRAINT tbl_login_pkey PRIMARY KEY (login_id);"
    - "ALTER TABLE ONLY public.tbl_payment_method ADD CONSTRAINT tbl_payment_method_pkey PRIMARY KEY (payment_method_id);"
    - "ALTER TABLE ONLY public.tbl_reports ADD CONSTRAINT tbl_reports_pkey PRIMARY KEY (report_id);"
    - "ALTER TABLE ONLY public.tbl_transaction_history ADD CONSTRAINT tbl_transaction_history_pkey PRIMARY KEY (transaction_id);"
    - "ALTER TABLE ONLY public.tbl_user ADD CONSTRAINT tbl_user_pkey PRIMARY KEY (user_id);"
    - "ALTER TABLE ONLY public.tbl_user_settings ADD CONSTRAINT tbl_user_settings_pkey PRIMARY KEY (setting_id);"
    - "ALTER TABLE ONLY public.tbl_wallet ADD CONSTRAINT tbl_wallet_pkey PRIMARY KEY (wallet_id);"
    - "ALTER TABLE ONLY public.tbl_watchlist ADD CONSTRAINT tbl_watchlist_pkey PRIMARY KEY (watchlist_id);"
    - "ALTER TABLE ONLY public.tbl_wallet ADD CONSTRAINT fk_asset_id_wallet FOREIGN KEY (asset_id) REFERENCES public.tbl_assets(asset_id);"
    - "ALTER TABLE ONLY public.tbl_watchlist ADD CONSTRAINT fk_asset_id_watchlist FOREIGN KEY (asset_id) REFERENCES public.tbl_assets(asset_id);"
    - "ALTER TABLE ONLY public.tbl_transaction_history ADD CONSTRAINT fk_bank_id_transaction_history FOREIGN KEY (bank_id) REFERENCES public.tbl_bank(bank_id);"
    - "ALTER TABLE ONLY public.tbl_transaction_history ADD CONSTRAINT fk_currency_id_transaction_history FOREIGN KEY (currency_id) REFERENCES public.tbl_currency(currency_id);"
    - "ALTER TABLE ONLY public.tbl_wallet ADD CONSTRAINT fk_currency_id_wallet FOREIGN KEY (currency_id) REFERENCES public.tbl_currency(currency_id);"
    - "ALTER TABLE ONLY public.tbl_expenses ADD CONSTRAINT fk_payment_method_id_expenses FOREIGN KEY (payment_method_id) REFERENCES public.tbl_payment_method(payment_method_id);"
    - "ALTER TABLE ONLY public.tbl_income ADD CONSTRAINT fk_payment_method_id_income FOREIGN KEY (payment_method_id) REFERENCES public.tbl_payment_method(payment_method_id);"
    - "ALTER TABLE ONLY public.tbl_assets ADD CONSTRAINT fk_user_id_assets FOREIGN KEY (user_id) REFERENCES public.tbl_user(user_id);"
    - "ALTER TABLE ONLY public.tbl_expenses ADD CONSTRAINT fk_user_id_expenses FOREIGN KEY (user_id) REFERENCES public.tbl_user(user_id);"
    - "ALTER TABLE ONLY public.tbl_income ADD CONSTRAINT fk_user_id_income FOREIGN KEY (user_id) REFERENCES public.tbl_user(user_id);"
    - "ALTER TABLE ONLY public.tbl_liability ADD CONSTRAINT fk_user_id_liability FOREIGN KEY (user_id) REFERENCES public.tbl_user(user_id);"
    - "ALTER TABLE ONLY public.tbl_login ADD CONSTRAINT fk_user_id_login FOREIGN KEY (user_id) REFERENCES public.tbl_user(user_id);"
    - "ALTER TABLE ONLY public.tbl_payment_method ADD CONSTRAINT fk_user_id_payment_method FOREIGN KEY (user_id) REFERENCES public.tbl_user(user_id);"
    - "ALTER TABLE ONLY public.tbl_reports ADD CONSTRAINT fk_user_id_reports FOREIGN KEY (user_id) REFERENCES public.tbl_user(user_id);"
    - "ALTER TABLE ONLY public.tbl_transaction_history ADD CONSTRAINT fk_user_id_transaction_history FOREIGN KEY (user_id) REFERENCES public.tbl_user(user_id);"
    - "ALTER TABLE ONLY public.tbl_user_settings ADD CONSTRAINT fk_user_id_user_settings FOREIGN KEY (user_id) REFERENCES public.tbl_user(user_id);"
    - "ALTER TABLE ONLY public.tbl_wallet ADD CONSTRAINT fk_user_id_wallet FOREIGN KEY (user_id) REFERENCES public.tbl_user(user_id);"
    - "ALTER TABLE ONLY public.tbl_watchlist ADD CONSTRAINT fk_user_id_watchlist FOREIGN KEY (user_id) REFERENCES public.tbl_user(user_id);"
    mysql: []
  post_data_insertion_checks:
    postgres:
    - "SELECT 'tbl_agent' AS table_name, MD5(STRING_AGG(t, ',' ORDER BY t)) AS checksum FROM (SELECT MD5(ROW_TO_JSON(ROW(t.*))::TEXT) AS t FROM public.tbl_agent t) AS row_hashes"
    - "SELECT 'tbl_agent_user_association' AS table_name, MD5(STRING_AGG(t, ',' ORDER BY t)) AS checksum FROM (SELECT MD5(ROW_TO_JSON(ROW(t.*))::TEXT) AS t FROM public.tbl_agent_user_association t) AS row_hashes"
    - "SELECT 'tbl_assets' AS table_name, MD5(STRING_AGG(t, ',' ORDER BY t)) AS checksum FROM (SELECT MD5(ROW_TO_JSON(ROW(t.*))::TEXT) AS t FROM public.tbl_assets t) AS row_hashes"
    - "SELECT 'tbl_bank' AS table_name, MD5(STRING_AGG(t, ',' ORDER BY t)) AS checksum FROM (SELECT MD5(ROW_TO_JSON(ROW(t.*))::TEXT) AS t FROM public.tbl_bank t) AS row_hashes"
    - "SELECT 'tbl_comm_funds' AS table_name, MD5(STRING_AGG(t, ',' ORDER BY t)) AS checksum FROM (SELECT MD5(ROW_TO_JSON(ROW(t.*))::TEXT) AS t FROM public.tbl_comm_funds t) AS row_hashes"
    - "SELECT 'tbl_comm_funds_x_user' AS table_name, MD5(STRING_AGG(t, ',' ORDER BY t)) AS checksum FROM (SELECT MD5(ROW_TO_JSON(ROW(t.*))::TEXT) AS t FROM public.tbl_comm_funds_x_user t) AS row_hashes"
    - "SELECT 'tbl_currency' AS table_name, MD5(STRING_AGG(t, ',' ORDER BY t)) AS checksum FROM (SELECT MD5(ROW_TO_JSON(ROW(t.*))::TEXT) AS t FROM public.tbl_currency t) AS row_hashes"
    - "SELECT 'tbl_currency_exchange' AS table_name, MD5(STRING_AGG(t, ',' ORDER BY t)) AS checksum FROM (SELECT MD5(ROW_TO_JSON(ROW(t.*))::TEXT) AS t FROM public.tbl_currency_exchange t) AS row_hashes"
    - "SELECT 'tbl_currency_exchange_x_user' AS table_name, MD5(STRING_AGG(t, ',' ORDER BY t)) AS checksum FROM (SELECT MD5(ROW_TO_JSON(ROW(t.*))::TEXT) AS t FROM public.tbl_currency_exchange_x_user t) AS row_hashes"
    - "SELECT 'tbl_expenses' AS table_name, MD5(STRING_AGG(t, ',' ORDER BY t)) AS checksum FROM (SELECT MD5(ROW_TO_JSON(ROW(t.*))::TEXT) AS t FROM public.tbl_expenses t) AS row_hashes"
    - "SELECT 'tbl_income' AS table_name, MD5(STRING_AGG(t, ',' ORDER BY t)) AS checksum FROM (SELECT MD5(ROW_TO_JSON(ROW(t.*))::TEXT) AS t FROM public.tbl_income t) AS row_hashes"
    - "SELECT 'tbl_liabilities' AS table_name, MD5(STRING_AGG(t, ',' ORDER BY t)) AS checksum FROM (SELECT MD5(ROW_TO_JSON(ROW(t.*))::TEXT) AS t FROM public.tbl_liabilities t) AS row_hashes"
    - "SELECT 'tbl_liability' AS table_name, MD5(STRING_AGG(t, ',' ORDER BY t)) AS checksum FROM (SELECT MD5(ROW_TO_JSON(ROW(t.*))::TEXT) AS t FROM public.tbl_liability t) AS row_hashes"
    - "SELECT 'tbl_login' AS table_name, MD5(STRING_AGG(t, ',' ORDER BY t)) AS checksum FROM (SELECT MD5(ROW_TO_JSON(ROW(t.*))::TEXT) AS t FROM public.tbl_login t) AS row_hashes"
    - "SELECT 'tbl_payment_method' AS table_name, MD5(STRING_AGG(t, ',' ORDER BY t)) AS checksum FROM (SELECT MD5(ROW_TO_JSON(ROW(t.*))::TEXT) AS t FROM public.tbl_payment_method t) AS row_hashes"
    - "SELECT 'tbl_reports' AS table_name, MD5(STRING_AGG(t, ',' ORDER BY t)) AS checksum FROM (SELECT MD5(ROW_TO_JSON(ROW(t.*))::TEXT) AS t FROM public.tbl_reports t) AS row_hashes"
    - "SELECT 'tbl_transaction_history' AS table_name, MD5(STRING_AGG(t, ',' ORDER BY t)) AS checksum FROM (SELECT MD5(ROW_TO_JSON(ROW(t.*))::TEXT) AS t FROM public.tbl_transaction_history t) AS row_hashes"
    - "SELECT 'tbl_user' AS table_name, MD5(STRING_AGG(t, ',' ORDER BY t)) AS checksum FROM (SELECT MD5(ROW_TO_JSON(ROW(t.*))::TEXT) AS t FROM public.tbl_user t) AS row_hashes"
    - "SELECT 'tbl_user_settings' AS table_name, MD5(STRING_AGG(t, ',' ORDER BY t)) AS checksum FROM (SELECT MD5(ROW_TO_JSON(ROW(t.*))::TEXT) AS t FROM public.tbl_user_settings t) AS row_hashes"
    - "SELECT 'tbl_wallet' AS table_name, MD5(STRING_AGG(t, ',' ORDER BY t)) AS checksum FROM (SELECT MD5(ROW_TO_JSON(ROW(t.*))::TEXT) AS t FROM public.tbl_wallet t) AS row_hashes"
    - "SELECT 'tbl_watchlist' AS table_name, MD5(STRING_AGG(t, ',' ORDER BY t)) AS checksum FROM (SELECT MD5(ROW_TO_JSON(ROW(t.*))::TEXT) AS t FROM public.tbl_watchlist t) AS row_hashes"
    - "SELECT 'tables' AS metadata_type, MD5(STRING_AGG(MD5(ordered_tables.table_name::TEXT), ',')) AS checksum FROM (SELECT table_name FROM information_schema.tables WHERE table_schema='public' AND table_type='BASE TABLE' ORDER BY table_name) AS ordered_tables"
    - "SELECT 'columns' AS metadata_type, MD5(STRING_AGG(MD5(ROW(ordered_columns.table_name, ordered_columns.column_name, ordered_columns.data_type)::TEXT), ',')) AS checksum FROM (SELECT TABLE_NAME, COLUMN_NAME, udt_name AS DATA_TYPE FROM information_schema.columns WHERE table_schema = 'public' ORDER BY TABLE_NAME, COLUMN_NAME, DATA_TYPE) AS ordered_columns"
    - "SELECT 'primary_keys' AS metadata_type, MD5(STRING_AGG(MD5(ROW(ordered_pks.table_name, ordered_pks.column_name)::TEXT), ',')) AS checksum FROM (SELECT tc.table_name, kcu.column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name WHERE tc.constraint_type = 'PRIMARY KEY' AND tc.table_schema = 'public' ORDER BY tc.table_name, kcu.column_name) AS ordered_pks"
    - "SELECT 'foreign_keys' AS metadata_type, MD5(STRING_AGG(MD5(ROW(ordered_fks.constraint_name, ordered_fks.table_name, ordered_fks.column_name, ordered_fks.foreign_table_name, ordered_fks.foreign_column_name)::TEXT), ',')) AS checksum FROM (SELECT c.conname AS constraint_name, c.conrelid::regclass::text AS table_name, a.attname AS column_name, c.confrelid::regclass::text AS foreign_table_name, af.attname AS foreign_column_name FROM pg_constraint AS c JOIN pg_attribute AS a ON a.attnum = ANY(c.conkey) AND a.attrelid = c.conrelid JOIN pg_attribute AS af ON af.attnum = ANY(c.confkey) AND af.attrelid = c.confrelid WHERE c.contype = 'f' ORDER BY constraint_name, table_name, column_name, foreign_table_name, foreign_column_name) AS ordered_fks"
    - "SELECT 'indexes' AS metadata_type, MD5(STRING_AGG(MD5(ROW(ordered_indexes.tablename, ordered_indexes.indexname, ordered_indexes.indexdef)::TEXT), ',')) AS checksum FROM (SELECT tablename, indexname, indexdef FROM pg_indexes WHERE schemaname = 'public' ORDER BY tablename, indexname, indexdef) AS ordered_indexes"
    mysql:
    - "SELECT 'tbl_agent' AS table_name, MD5(GROUP_CONCAT(CONCAT_WS(',', `address`,`agency`,`agent_id`,`created_at`,`date_of_hire`,`email`,`name`,`phone_number`,`updated_at`) ORDER BY `address`,`agency`,`agent_id`,`created_at`,`date_of_hire`,`email`,`name`,`phone_number`,`updated_at`)) AS checksum FROM db_finance.tbl_agent"
    - "SELECT 'tbl_agent_user_association' AS table_name, MD5(GROUP_CONCAT(CONCAT_WS(',', `agent_id`,`user_id`) ORDER BY `agent_id`,`user_id`)) AS checksum FROM db_finance.tbl_agent_user_association"
    - "SELECT 'tbl_assets_info' AS table_name, MD5(GROUP_CONCAT(CONCAT_WS(',', `asset_id`,`asset_symbol`,`asset_type`,`country`,`created_at`,`current_price`,`current_value`,`exchange`,`gain_loss_amount`,`gain_loss_percentage`,`is_active`,`is_watchlisted`,`purchase_date`,`purchase_price`,`quantity`,`sector`,`total_investment`,`updated_at`,`user_id`) ORDER BY `asset_id`,`asset_symbol`,`asset_type`,`country`,`created_at`,`current_price`,`current_value`,`exchange`,`gain_loss_amount`,`gain_loss_percentage`,`is_active`,`is_watchlisted`,`purchase_date`,`purchase_price`,`quantity`,`sector`,`total_investment`,`updated_at`,`user_id`)) AS checksum FROM db_finance.tbl_assets_info"
    - "SELECT 'tbl_bank' AS table_name, MD5(GROUP_CONCAT(CONCAT_WS(',', `address`,`bank_id`,`country`,`name`,`phone_number`,`routing_number`,`swift_code`,`website`) ORDER BY `address`,`bank_id`,`country`,`name`,`phone_number`,`routing_number`,`swift_code`,`website`)) AS checksum FROM db_finance.tbl_bank"
    - "SELECT 'tbl_comm_funds' AS table_name, MD5(GROUP_CONCAT(CONCAT_WS(',', `change`,`created_at`,`fund_id`,`fund_symbol`,`manager`,`name`,`percent_change`,`updated_at`,`value`) ORDER BY `change`,`created_at`,`fund_id`,`fund_symbol`,`manager`,`name`,`percent_change`,`updated_at`,`value`)) AS checksum FROM db_finance.tbl_comm_funds"
    - "SELECT 'tbl_currency' AS table_name, MD5(GROUP_CONCAT(CONCAT_WS(',', `code`,`currency_id`,`name`,`symbol`) ORDER BY `code`,`currency_id`,`name`,`symbol`)) AS checksum FROM db_finance.tbl_currency"
    - "SELECT 'tbl_currency_exchange' AS table_name, MD5(GROUP_CONCAT(CONCAT_WS(',', `created_at`,`currency_pair`,`date`,`exchange_id`,`exchange_rate`,`notes`,`source`,`updated_at`) ORDER BY `created_at`,`currency_pair`,`date`,`exchange_id`,`exchange_rate`,`notes`,`source`,`updated_at`)) AS checksum FROM db_finance.tbl_currency_exchange"
    - "SELECT 'tbl_currency_exchange_x_user' AS table_name, MD5(GROUP_CONCAT(CONCAT_WS(',', `amount_from`,`amount_to`,`currency_from`,`currency_to`,`date`,`exchange_id`,`exchange_rate`,`fee`,`user_id`) ORDER BY `amount_from`,`amount_to`,`currency_from`,`currency_to`,`date`,`exchange_id`,`exchange_rate`,`fee`,`user_id`)) AS checksum FROM db_finance.tbl_currency_exchange_x_user"
    - "SELECT 'tbl_expenses' AS table_name, MD5(GROUP_CONCAT(CONCAT_WS(',', `amount`,`category`,`currency`,`date`,`expense_id`,`merchant`,`payment_method_id`,`user_id`) ORDER BY `amount`,`category`,`currency`,`date`,`expense_id`,`merchant`,`payment_method_id`,`user_id`)) AS checksum FROM db_finance.tbl_expenses"
    - "SELECT 'tbl_funds_investments' AS table_name, MD5(GROUP_CONCAT(CONCAT_WS(',', `created_at`,`fund_id`,`investment_amount`,`investment_date`,`units_purchased`,`user_id`) ORDER BY `created_at`,`fund_id`,`investment_amount`,`investment_date`,`units_purchased`,`user_id`)) AS checksum FROM db_finance.tbl_funds_investments"
    - "SELECT 'tbl_income' AS table_name, MD5(GROUP_CONCAT(CONCAT_WS(',', `amount`,`created_at`,`deposit_date`,`income_date`,`income_id`,`is_recurring`,`is_taxable`,`payment_method_id`,`recurring_frequency`,`source`,`tax_amount`,`tax_category`,`updated_at`,`user_id`) ORDER BY `amount`,`created_at`,`deposit_date`,`income_date`,`income_id`,`is_recurring`,`is_taxable`,`payment_method_id`,`recurring_frequency`,`source`,`tax_amount`,`tax_category`,`updated_at`,`user_id`)) AS checksum FROM db_finance.tbl_income"
    - "SELECT 'tbl_liabilities' AS table_name, MD5(GROUP_CONCAT(CONCAT_WS(',', `accepted_payment_methods`,`amount`,`collateral_info`,`created_at`,`end_date`,`interest_rate`,`is_active`,`liability_id`,`liability_name`,`notes`,`payment_frequency`,`payment_methods`,`payment_terms`,`start_date`,`updated_at`) ORDER BY `accepted_payment_methods`,`amount`,`collateral_info`,`created_at`,`end_date`,`interest_rate`,`is_active`,`liability_id`,`liability_name`,`notes`,`payment_frequency`,`payment_methods`,`payment_terms`,`start_date`,`updated_at`)) AS checksum FROM db_finance.tbl_liabilities"
    - "SELECT 'tbl_liability' AS table_name, MD5(GROUP_CONCAT(CONCAT_WS(',', `liability_id`,`payment_methods`,`user_id`) ORDER BY `liability_id`,`payment_methods`,`user_id`)) AS checksum FROM db_finance.tbl_liability"
    - "SELECT 'tbl_login' AS table_name, MD5(GROUP_CONCAT(CONCAT_WS(',', `browser`,`created_at`,`details`,`device_type`,`ip_address`,`is_successful`,`login_id`,`login_time`,`user_id`) ORDER BY `browser`,`created_at`,`details`,`device_type`,`ip_address`,`is_successful`,`login_id`,`login_time`,`user_id`)) AS checksum FROM db_finance.tbl_login"
    - "SELECT 'tbl_payment_method' AS table_name, MD5(GROUP_CONCAT(CONCAT_WS(',', `account_no`,`bank_id`,`created_at`,`is_default`,`method_type`,`payment_method_id`,`user_id`) ORDER BY `account_no`,`bank_id`,`created_at`,`is_default`,`method_type`,`payment_method_id`,`user_id`)) AS checksum FROM db_finance.tbl_payment_method"
    - "SELECT 'tbl_reports' AS table_name, MD5(GROUP_CONCAT(CONCAT_WS(',', `content`,`report_date`,`report_id`,`report_type`,`user_id`) ORDER BY `content`,`report_date`,`report_id`,`report_type`,`user_id`)) AS checksum FROM db_finance.tbl_reports"
    - "SELECT 'tbl_transaction_history' AS table_name, MD5(GROUP_CONCAT(CONCAT_WS(',', `amount`,`bank_id`,`currency_id`,`depositorwithdrawal`,`notes`,`status`,`transaction_date`,`transaction_id`,`transaction_type`,`user_id`) ORDER BY `amount`,`bank_id`,`currency_id`,`depositorwithdrawal`,`notes`,`status`,`transaction_date`,`transaction_id`,`transaction_type`,`user_id`)) AS checksum FROM db_finance.tbl_transaction_history"
    - "SELECT 'tbl_user' AS table_name, MD5(GROUP_CONCAT(CONCAT_WS(',', `account_creation_source`,`account_source`,`account_type`,`address`,`balance`,`country_code`,`created_at`,`data`,`date_of_birth`,`email`,`gender`,`is_active`,`is_admin`,`language`,`last_login`,`location`,`marital_status`,`name`,`nationality`,`password`,`phone_number`,`preferred_currency`,`preferred_currency_id`,`risk_tolerance`,`social_media_links`,`tax_info`,`tax_information`,`timezone`,`updated_at`,`user_id`,`username`) ORDER BY `account_creation_source`,`account_source`,`account_type`,`address`,`balance`,`country_code`,`created_at`,`data`,`date_of_birth`,`email`,`gender`,`is_active`,`is_admin`,`language`,`last_login`,`location`,`marital_status`,`name`,`nationality`,`password`,`phone_number`,`preferred_currency`,`preferred_currency_id`,`risk_tolerance`,`social_media_links`,`tax_info`,`tax_information`,`timezone`,`updated_at`,`user_id`,`username`)) AS checksum FROM db_finance.tbl_user"
    - "SELECT 'tbl_user_settings' AS table_name, MD5(GROUP_CONCAT(CONCAT_WS(',', `created_at`,`language`,`notification_preferences`,`setting_id`,`theme`,`timezone`,`updated_at`,`user_id`) ORDER BY `created_at`,`language`,`notification_preferences`,`setting_id`,`theme`,`timezone`,`updated_at`,`user_id`)) AS checksum FROM db_finance.tbl_user_settings"
    - "SELECT 'tbl_wallet' AS table_name, MD5(GROUP_CONCAT(CONCAT_WS(',', `asset_id`,`asset_quantity`,`asset_type`,`asset_value`,`balance`,`balance_comment`,`country`,`created_at`,`currency_id`,`description`,`is_active`,`name`,`type`,`updated_at`,`user_id`,`wallet_id`) ORDER BY `asset_id`,`asset_quantity`,`asset_type`,`asset_value`,`balance`,`balance_comment`,`country`,`created_at`,`currency_id`,`description`,`is_active`,`name`,`type`,`updated_at`,`user_id`,`wallet_id`)) AS checksum FROM db_finance.tbl_wallet"
    - "SELECT 'tbl_watchlist' AS table_name, MD5(GROUP_CONCAT(CONCAT_WS(',', `asset_id`,`asset_symbol`,`asset_type`,`created_at`,`is_active`,`updated_at`,`user_id`,`watchlist_id`) ORDER BY `asset_id`,`asset_symbol`,`asset_type`,`created_at`,`is_active`,`updated_at`,`user_id`,`watchlist_id`)) AS checksum FROM db_finance.tbl_watchlist"
    - "SELECT 'tables' AS metadata_type, MD5(GROUP_CONCAT(MD5(ordered_tables.table_name) ORDER BY ordered_tables.table_name SEPARATOR ',')) AS checksum FROM (SELECT ist.table_name FROM information_schema.tables AS ist WHERE ist.table_schema = 'db_finance' ORDER BY ist.table_name) AS ordered_tables"
    - "SELECT 'columns' AS metadata_type, MD5(GROUP_CONCAT(MD5(CONCAT(ordered_columns.table_name, ':', ordered_columns.column_name, ':', ordered_columns.data_type)) SEPARATOR ',')) AS checksum FROM (SELECT TABLE_NAME, COLUMN_NAME, DATA_TYPE FROM information_schema.columns WHERE table_schema = 'db_finance' ORDER BY TABLE_NAME, COLUMN_NAME, DATA_TYPE) AS ordered_columns"
    - "SELECT 'primary_keys' AS metadata_type, MD5(GROUP_CONCAT(MD5(CONCAT(ordered_pks.table_name, ':', ordered_pks.column_name)) SEPARATOR ',')) AS checksum FROM (SELECT TABLE_NAME, COLUMN_NAME FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = 'db_finance' AND COLUMN_KEY = 'PRI' ORDER BY TABLE_NAME, COLUMN_NAME) AS ordered_pks"
    - "SELECT 'foreign_keys' AS metadata_type, MD5(GROUP_CONCAT(MD5(CONCAT(ordered_fks.table_name, ':', ordered_fks.column_name, ':', ordered_fks.constraint_name, ':', ordered_fks.referenced_table_name, ':', ordered_fks.referenced_column_name)) SEPARATOR ',')) AS checksum FROM (SELECT TABLE_NAME,COLUMN_NAME,CONSTRAINT_NAME, REFERENCED_TABLE_NAME,REFERENCED_COLUMN_NAME FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE WHERE REFERENCED_TABLE_SCHEMA = 'db_finance' ORDER BY TABLE_NAME, COLUMN_NAME, CONSTRAINT_NAME, REFERENCED_TABLE_NAME, REFERENCED_COLUMN_NAME) AS ordered_fks"
    - "SELECT 'indexes' AS metadata_type, MD5(GROUP_CONCAT(MD5(CONCAT(ordered_indexes.table_name, ':', ordered_indexes.index_name)) SEPARATOR ',')) AS checksum FROM (SELECT TABLE_NAME, INDEX_NAME FROM INFORMATION_SCHEMA.STATISTICS WHERE TABLE_SCHEMA = 'db_finance' Order by TABLE_NAME, INDEX_NAME) AS ordered_indexes"
