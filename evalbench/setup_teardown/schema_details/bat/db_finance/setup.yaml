setup_commands:
  excluded_columns:
    postgres: []
    mysql: []
  pre_setup:
    postgres:
    - "SET statement_timeout = 0;"
    - "SET lock_timeout = 0;"
    - "SET idle_in_transaction_session_timeout = 0;"
    - "SET client_encoding = 'UTF8';"
    - "SET standard_conforming_strings = on;"
    - "SELECT pg_catalog.set_config('search_path', '', false);"
    - "SET check_function_bodies = false;"
    - "SET xmloption = content;"
    - "SET client_min_messages = warning;"
    - "SET row_security = off;"
    - "SET statement_timeout = 0;"
    - "SET lock_timeout = 0;"
    - "SET idle_in_transaction_session_timeout = 0;"
    - "SET client_encoding = 'UTF8';"
    - "SET standard_conforming_strings = on;"
    - "SELECT pg_catalog.set_config('search_path', '', false);"
    - "SET check_function_bodies = false;"
    - "SET xmloption = content;"
    - "SET client_min_messages = warning;"
    - "SET row_security = off;"
    - "SET default_tablespace = '';"
    - "SET default_table_access_method = heap;"
    mysql: []
  post_schema_creation:
    postgres:
    - "ALTER TABLE public.tbl_agent OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_agent_user_association OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_assets OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_bank OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_comm_funds OWNER TO nl2sql;"
    - "CREATE SEQUENCE public.tbl_comm_funds_fund_id_seq AS integer START WITH 1 INCREMENT BY 1 NO MINVALUE NO MAXVALUE CACHE 1;"
    - "ALTER SEQUENCE public.tbl_comm_funds_fund_id_seq OWNER TO nl2sql;"
    - "ALTER SEQUENCE public.tbl_comm_funds_fund_id_seq OWNED BY public.tbl_comm_funds.fund_id;"
    - "ALTER TABLE public.tbl_comm_funds_x_user OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_currency OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_currency_exchange OWNER TO nl2sql;"
    - "CREATE SEQUENCE public.tbl_currency_exchange_exchange_id_seq AS integer START WITH 1 INCREMENT BY 1 NO MINVALUE NO MAXVALUE CACHE 1;"
    - "ALTER SEQUENCE public.tbl_currency_exchange_exchange_id_seq OWNER TO nl2sql;"
    - "ALTER SEQUENCE public.tbl_currency_exchange_exchange_id_seq OWNED BY public.tbl_currency_exchange.exchange_id;"
    - "ALTER TABLE public.tbl_currency_exchange_x_user OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_expenses OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_income OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_liabilities OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_liability OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_login OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_payment_method OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_reports OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_transaction_history OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_user OWNER TO nl2sql;"
    - "ALTER TABLE public.tbl_user_settings OWNER TO nl2sql;"
    - "CREATE SEQUENCE public.tbl_user_user_id_seq AS integer START WITH 1 INCREMENT BY 1 NO MINVALUE NO MAXVALUE CACHE 1;"
    - "ALTER SEQUENCE public.tbl_user_user_id_seq OWNER TO nl2sql;"
    - "ALTER SEQUENCE public.tbl_user_user_id_seq OWNED BY public.tbl_user.user_id;"
    - "ALTER TABLE public.tbl_wallet OWNER TO nl2sql;"
    - "CREATE SEQUENCE public.tbl_wallet_wallet_id_seq AS integer START WITH 1 INCREMENT BY 1 NO MINVALUE NO MAXVALUE CACHE 1;"
    - "ALTER SEQUENCE public.tbl_wallet_wallet_id_seq OWNER TO nl2sql;"
    - "ALTER SEQUENCE public.tbl_wallet_wallet_id_seq OWNED BY public.tbl_wallet.wallet_id;"
    - "ALTER TABLE public.tbl_watchlist OWNER TO nl2sql;"
    - "CREATE SEQUENCE public.tbl_watchlist_watchlist_id_seq AS integer START WITH 1 INCREMENT BY 1 NO MINVALUE NO MAXVALUE CACHE 1;"
    - "ALTER SEQUENCE public.tbl_watchlist_watchlist_id_seq OWNER TO nl2sql;"
    - "ALTER SEQUENCE public.tbl_watchlist_watchlist_id_seq OWNED BY public.tbl_watchlist.watchlist_id;"
    - "ALTER TABLE ONLY public.tbl_comm_funds ALTER COLUMN fund_id SET DEFAULT nextval('public.tbl_comm_funds_fund_id_seq'::regclass);"
    - "ALTER TABLE ONLY public.tbl_currency_exchange ALTER COLUMN exchange_id SET DEFAULT nextval('public.tbl_currency_exchange_exchange_id_seq'::regclass);"
    - "ALTER TABLE ONLY public.tbl_user ALTER COLUMN user_id SET DEFAULT nextval('public.tbl_user_user_id_seq'::regclass);"
    - "ALTER TABLE ONLY public.tbl_wallet ALTER COLUMN wallet_id SET DEFAULT nextval('public.tbl_wallet_wallet_id_seq'::regclass);"
    - "ALTER TABLE ONLY public.tbl_watchlist ALTER COLUMN watchlist_id SET DEFAULT nextval('public.tbl_watchlist_watchlist_id_seq'::regclass);"
    mysql:
    - "ALTER TABLE tbl_agent_user_association ADD PRIMARY KEY (`agent_id`,`user_id`)"
    - "ALTER TABLE tbl_agent ADD PRIMARY KEY (`agent_id`)"
    - "ALTER TABLE tbl_assets ADD PRIMARY KEY (`asset_id`), ADD KEY `user_id` (`user_id`)"
    - "ALTER TABLE tbl_bank ADD PRIMARY KEY (`bank_id`)"
    - "ALTER TABLE tbl_comm_funds_x_user ADD PRIMARY KEY (`user_id`,`fund_id`)"
    - "ALTER TABLE tbl_comm_funds ADD PRIMARY KEY (`fund_id`)"
    - "ALTER TABLE tbl_currency_exchange_x_user ADD PRIMARY KEY (`exchange_id`,`user_id`)"
    - "ALTER TABLE tbl_currency_exchange ADD PRIMARY KEY (`exchange_id`)"
    - "ALTER TABLE tbl_currency ADD PRIMARY KEY (`currency_id`)"
    - "ALTER TABLE tbl_expenses ADD PRIMARY KEY (`expense_id`), ADD KEY `user_id` (`user_id`), ADD KEY `payment_method_id` (`payment_method_id`)"
    - "ALTER TABLE tbl_income ADD PRIMARY KEY (`income_id`), ADD KEY `user_id` (`user_id`), ADD KEY `payment_method_id` (`payment_method_id`)"
    - "ALTER TABLE tbl_liabilities ADD PRIMARY KEY (`liability_id`)"
    - "ALTER TABLE tbl_liability ADD PRIMARY KEY (`liability_id`), ADD KEY `user_id` (`user_id`)"
    - "ALTER TABLE tbl_login ADD PRIMARY KEY (`login_id`), ADD KEY `user_id` (`user_id`)"
    - "ALTER TABLE tbl_payment_method ADD PRIMARY KEY (`payment_method_id`), ADD KEY `user_id` (`user_id`)"
    - "ALTER TABLE tbl_reports ADD PRIMARY KEY (`report_id`), ADD KEY `user_id` (`user_id`)"
    - "ALTER TABLE tbl_transaction_history ADD PRIMARY KEY (`transaction_id`), ADD KEY `tbl_transaction_history_ibfk_1` (`user_id`), ADD KEY `tbl_transaction_history_ibfk_2` (`currency_id`), ADD KEY `tbl_transaction_history_ibfk_3` (`bank_id`)"
    - "ALTER TABLE tbl_user_settings ADD PRIMARY KEY (`setting_id`), ADD KEY `user_id` (`user_id`)"
    - "ALTER TABLE tbl_user ADD PRIMARY KEY (`user_id`)"
    - "ALTER TABLE tbl_wallet ADD PRIMARY KEY (`wallet_id`), ADD KEY `user_id` (`user_id`), ADD KEY `currency_id` (`currency_id`), ADD KEY `asset_id` (`asset_id`)"
    - "ALTER TABLE tbl_watchlist ADD PRIMARY KEY (`watchlist_id`), ADD KEY `user_id` (`user_id`), ADD KEY `asset_id` (`asset_id`),"
    # Foreign key constraints"
    - "ALTER TABLE tbl_assets ADD CONSTRAINT `tbl_assets_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `tbl_user` (`user_id`)"
    - "ALTER TABLE tbl_expenses ADD CONSTRAINT `tbl_expenses_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `tbl_user` (`user_id`), ADD CONSTRAINT `tbl_expenses_ibfk_2` FOREIGN KEY (`payment_method_id`) REFERENCES `tbl_payment_method` (`payment_method_id`)"
    - "ALTER TABLE tbl_income ADD CONSTRAINT `tbl_income_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `tbl_user` (`user_id`), ADD CONSTRAINT `tbl_income_ibfk_2` FOREIGN KEY (`payment_method_id`) REFERENCES `tbl_payment_method` (`payment_method_id`)"
    - "ALTER TABLE tbl_liability ADD CONSTRAINT `tbl_liability_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `tbl_user` (`user_id`)"
    - "ALTER TABLE tbl_login ADD CONSTRAINT `tbl_login_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `tbl_user` (`user_id`)"
    - "ALTER TABLE tbl_payment_method ADD CONSTRAINT `tbl_payment_method_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `tbl_user` (`user_id`)"
    - "ALTER TABLE tbl_reports ADD CONSTRAINT `tbl_reports_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `tbl_user` (`user_id`)"
    - "ALTER TABLE tbl_transaction_history ADD CONSTRAINT `tbl_transaction_history_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `tbl_user` (`user_id`), ADD CONSTRAINT `tbl_transaction_history_ibfk_2` FOREIGN KEY (`currency_id`) REFERENCES `tbl_currency` (`currency_id`), ADD CONSTRAINT `tbl_transaction_history_ibfk_3` FOREIGN KEY (`bank_id`) REFERENCES `tbl_bank` (`bank_id`)"
    - "ALTER TABLE tbl_user_settings ADD CONSTRAINT `tbl_user_settings_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `tbl_user` (`user_id`)"
    - "ALTER TABLE tbl_wallet ADD CONSTRAINT `tbl_wallet_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `tbl_user` (`user_id`), ADD CONSTRAINT `tbl_wallet_ibfk_2` FOREIGN KEY (`currency_id`) REFERENCES `tbl_currency` (`currency_id`), ADD CONSTRAINT `tbl_wallet_ibfk_3` FOREIGN KEY (`asset_id`) REFERENCES `tbl_assets` (`asset_id`)"
    - "ALTER TABLE tbl_watchlist ADD CONSTRAINT `tbl_watchlist_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `tbl_user` (`user_id`), ADD CONSTRAINT `tbl_watchlist_ibfk_2` FOREIGN KEY (`asset_id`) REFERENCES `tbl_assets` (`asset_id`)"
  post_setup:
    postgres:
    - "SELECT pg_catalog.setval('public.tbl_comm_funds_fund_id_seq', 1, false);"
    - "SELECT pg_catalog.setval('public.tbl_currency_exchange_exchange_id_seq', 1, false);"
    - "SELECT pg_catalog.setval('public.tbl_user_user_id_seq', 1, false);"
    - "SELECT pg_catalog.setval('public.tbl_wallet_wallet_id_seq', 1, false);"
    - "SELECT pg_catalog.setval('public.tbl_watchlist_watchlist_id_seq', 1, false);"
    - "ALTER TABLE ONLY public.tbl_agent ADD CONSTRAINT tbl_agent_pkey PRIMARY KEY (agent_id);"
    - "ALTER TABLE ONLY public.tbl_agent_user_association ADD CONSTRAINT tbl_agent_user_association_pkey PRIMARY KEY (agent_id, user_id);"
    - "ALTER TABLE ONLY public.tbl_assets ADD CONSTRAINT tbl_assets_pkey PRIMARY KEY (asset_id);"
    - "ALTER TABLE ONLY public.tbl_bank ADD CONSTRAINT tbl_bank_pkey PRIMARY KEY (bank_id);"
    - "ALTER TABLE ONLY public.tbl_comm_funds ADD CONSTRAINT tbl_comm_funds_pkey PRIMARY KEY (fund_id);"
    - "ALTER TABLE ONLY public.tbl_comm_funds_x_user ADD CONSTRAINT tbl_comm_funds_x_user_pkey PRIMARY KEY (user_id, fund_id);"
    - "ALTER TABLE ONLY public.tbl_currency_exchange ADD CONSTRAINT tbl_currency_exchange_pkey PRIMARY KEY (exchange_id);"
    - "ALTER TABLE ONLY public.tbl_currency_exchange_x_user ADD CONSTRAINT tbl_currency_exchange_x_user_pkey PRIMARY KEY (exchange_id, user_id);"
    - "ALTER TABLE ONLY public.tbl_currency ADD CONSTRAINT tbl_currency_pkey PRIMARY KEY (currency_id);"
    - "ALTER TABLE ONLY public.tbl_expenses ADD CONSTRAINT tbl_expenses_pkey PRIMARY KEY (expense_id);"
    - "ALTER TABLE ONLY public.tbl_income ADD CONSTRAINT tbl_income_pkey PRIMARY KEY (income_id);"
    - "ALTER TABLE ONLY public.tbl_liabilities ADD CONSTRAINT tbl_liabilities_pkey PRIMARY KEY (liability_id);"
    - "ALTER TABLE ONLY public.tbl_liability ADD CONSTRAINT tbl_liability_pkey PRIMARY KEY (liability_id);"
    - "ALTER TABLE ONLY public.tbl_login ADD CONSTRAINT tbl_login_pkey PRIMARY KEY (login_id);"
    - "ALTER TABLE ONLY public.tbl_payment_method ADD CONSTRAINT tbl_payment_method_pkey PRIMARY KEY (payment_method_id);"
    - "ALTER TABLE ONLY public.tbl_reports ADD CONSTRAINT tbl_reports_pkey PRIMARY KEY (report_id);"
    - "ALTER TABLE ONLY public.tbl_transaction_history ADD CONSTRAINT tbl_transaction_history_pkey PRIMARY KEY (transaction_id);"
    - "ALTER TABLE ONLY public.tbl_user ADD CONSTRAINT tbl_user_pkey PRIMARY KEY (user_id);"
    - "ALTER TABLE ONLY public.tbl_user_settings ADD CONSTRAINT tbl_user_settings_pkey PRIMARY KEY (setting_id);"
    - "ALTER TABLE ONLY public.tbl_wallet ADD CONSTRAINT tbl_wallet_pkey PRIMARY KEY (wallet_id);"
    - "ALTER TABLE ONLY public.tbl_watchlist ADD CONSTRAINT tbl_watchlist_pkey PRIMARY KEY (watchlist_id);"
    - "ALTER TABLE ONLY public.tbl_wallet ADD CONSTRAINT fk_asset_id_wallet FOREIGN KEY (asset_id) REFERENCES public.tbl_assets(asset_id);"
    - "ALTER TABLE ONLY public.tbl_watchlist ADD CONSTRAINT fk_asset_id_watchlist FOREIGN KEY (asset_id) REFERENCES public.tbl_assets(asset_id);"
    - "ALTER TABLE ONLY public.tbl_transaction_history ADD CONSTRAINT fk_bank_id_transaction_history FOREIGN KEY (bank_id) REFERENCES public.tbl_bank(bank_id);"
    - "ALTER TABLE ONLY public.tbl_transaction_history ADD CONSTRAINT fk_currency_id_transaction_history FOREIGN KEY (currency_id) REFERENCES public.tbl_currency(currency_id);"
    - "ALTER TABLE ONLY public.tbl_wallet ADD CONSTRAINT fk_currency_id_wallet FOREIGN KEY (currency_id) REFERENCES public.tbl_currency(currency_id);"
    - "ALTER TABLE ONLY public.tbl_expenses ADD CONSTRAINT fk_payment_method_id_expenses FOREIGN KEY (payment_method_id) REFERENCES public.tbl_payment_method(payment_method_id);"
    - "ALTER TABLE ONLY public.tbl_income ADD CONSTRAINT fk_payment_method_id_income FOREIGN KEY (payment_method_id) REFERENCES public.tbl_payment_method(payment_method_id);"
    - "ALTER TABLE ONLY public.tbl_assets ADD CONSTRAINT fk_user_id_assets FOREIGN KEY (user_id) REFERENCES public.tbl_user(user_id);"
    - "ALTER TABLE ONLY public.tbl_expenses ADD CONSTRAINT fk_user_id_expenses FOREIGN KEY (user_id) REFERENCES public.tbl_user(user_id);"
    - "ALTER TABLE ONLY public.tbl_income ADD CONSTRAINT fk_user_id_income FOREIGN KEY (user_id) REFERENCES public.tbl_user(user_id);"
    - "ALTER TABLE ONLY public.tbl_liability ADD CONSTRAINT fk_user_id_liability FOREIGN KEY (user_id) REFERENCES public.tbl_user(user_id);"
    - "ALTER TABLE ONLY public.tbl_login ADD CONSTRAINT fk_user_id_login FOREIGN KEY (user_id) REFERENCES public.tbl_user(user_id);"
    - "ALTER TABLE ONLY public.tbl_payment_method ADD CONSTRAINT fk_user_id_payment_method FOREIGN KEY (user_id) REFERENCES public.tbl_user(user_id);"
    - "ALTER TABLE ONLY public.tbl_reports ADD CONSTRAINT fk_user_id_reports FOREIGN KEY (user_id) REFERENCES public.tbl_user(user_id);"
    - "ALTER TABLE ONLY public.tbl_transaction_history ADD CONSTRAINT fk_user_id_transaction_history FOREIGN KEY (user_id) REFERENCES public.tbl_user(user_id);"
    - "ALTER TABLE ONLY public.tbl_user_settings ADD CONSTRAINT fk_user_id_user_settings FOREIGN KEY (user_id) REFERENCES public.tbl_user(user_id);"
    - "ALTER TABLE ONLY public.tbl_wallet ADD CONSTRAINT fk_user_id_wallet FOREIGN KEY (user_id) REFERENCES public.tbl_user(user_id);"
    - "ALTER TABLE ONLY public.tbl_watchlist ADD CONSTRAINT fk_user_id_watchlist FOREIGN KEY (user_id) REFERENCES public.tbl_user(user_id);"
    mysql: []
  post_data_insertion_checks:
    postgres: []
    mysql: []