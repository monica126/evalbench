-- Adds bird_dev_california_schools examples into the Example Store
-- Source: google3/cloud/databases/nl2sql/datasets/birdsql/bird_dev.json

SELECT alloydb_ai_nl.g_admit_example('What is the highest eligible free rate for K-12 students in the schools in Alameda "County"?', 'SELECT "Free Meal Count (K-12)" / "Enrollment (K-12)" FROM public.frpm WHERE "County Name" = ''Alameda'' ORDER BY (CAST("Free Meal Count (K-12)" AS REAL) / "Enrollment (K-12)") DESC LIMIT 1', 'public', '', 'Eligible free rate for K-12 = `Free Meal Count (K-12)` / `Enrollment (K-12)`');

SELECT alloydb_ai_nl.g_admit_example('Please list the lowest three eligible free rates for students aged 5-17 in continuation schools.', 'SELECT "Free Meal Count (Ages 5-17)" / "Enrollment (Ages 5-17)" FROM public.frpm WHERE "Educational Option Type" = ''Continuation School'' AND "Free Meal Count (Ages 5-17)" / "Enrollment (Ages 5-17)" IS NOT NULL ORDER BY "Free Meal Count (Ages 5-17)" / "Enrollment (Ages 5-17)" ASC LIMIT 3', 'public', '', 'Eligible free rates for students aged 5-17 = `Free Meal Count (Ages 5-17)` / `Enrollment (Ages 5-17)`');

SELECT alloydb_ai_nl.g_admit_example('Please list the zip code of all the charter schools in Fresno "County" Office of Education.', 'SELECT T2."Zip" FROM public.frpm AS T1 INNER JOIN public.schools AS T2 ON T1."CDSCode" = T2."CDSCode" WHERE T1."District Name" = ''Fresno County Office of Education'' AND T1."Charter School (Y/N)" = 1', 'public', '', '"Charter" schools refers to `"Charter" School (Y/N)` = 1 in the table fprm');

SELECT alloydb_ai_nl.g_admit_example('What is the unabbreviated mailing address of the school with the highest FRPM count for K-12 students?', 'SELECT T2."MailStreet" FROM public.frpm AS T1 INNER JOIN public.schools AS T2 ON T1."CDSCode" = T2."CDSCode" ORDER BY T1."FRPM Count (K-12)" DESC LIMIT 1', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('Please list the phone numbers of the direct charter-funded schools that are opened after 2000/1/1.', 'SELECT T2."Phone" FROM public.frpm AS T1 INNER JOIN public.schools AS T2 ON T1."CDSCode" = T2."CDSCode" WHERE T1."Charter Funding Type" = ''Directly funded'' AND T1."Charter School (Y/N)" = 1 AND T2."OpenDate" > ''2000-01-01''', 'public', '', '"Charter" schools refers to `"Charter" School (Y/N)` = 1 in the frpm');

SELECT alloydb_ai_nl.g_admit_example('How many schools with an average score in Math under 400 in the SAT test are exclusively virtual?', 'SELECT COUNT(DISTINCT T2."School") FROM public.satscores AS T1 INNER JOIN public.schools AS T2 ON T1.cds = T2."CDSCode" WHERE T2."Virtual" = ''F'' AND T1."AvgScrMath" < 400', 'public', '', 'Exclusively virtual refers to "Virtual" = ''F''');

SELECT alloydb_ai_nl.g_admit_example('Among the schools with the SAT test takers of over 500, please list the schools that are magnet schools or offer a magnet program.', 'SELECT T2."School" FROM public.satscores AS T1 INNER JOIN public.schools AS T2 ON T1.cds = T2."CDSCode" WHERE T2."Magnet" = 1 AND T1."NumTstTakr" > 500', 'public', '', '"Magnet" schools or offer a magnet program means that "Magnet" = 1');

SELECT alloydb_ai_nl.g_admit_example('What is the phone number of the school that has the highest number of test takers with an SAT score of over 1500?', 'SELECT T2."Phone" FROM public.satscores AS T1 INNER JOIN public.schools AS T2 ON T1.cds = T2."CDSCode" ORDER BY T1."NumGE1500" DESC LIMIT 1', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('What is the number of SAT test takers of the schools with the highest FRPM count for K-12 students?', 'SELECT "NumTstTakr" FROM public.satscores WHERE cds = ( SELECT "CDSCode" FROM public.frpm ORDER BY "FRPM Count (K-12)" DESC LIMIT 1 )', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('Among the schools with the average score in Math over 560 in the SAT test, how many schools are directly charter-funded?', 'SELECT COUNT(T2."School Code") FROM public.satscores AS T1 INNER JOIN public.frpm AS T2 ON T1.cds = T2."CDSCode" WHERE T1."AvgScrMath" > 560 AND T2."Charter Funding Type" = ''Directly funded''', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('For the school with the highest average score in Reading in the SAT test, what is its FRPM count for students aged 5-17?', 'SELECT T2."FRPM Count (Ages 5-17)" FROM public.satscores AS T1 INNER JOIN public.frpm AS T2 ON T1.cds = T2."CDSCode" ORDER BY T1."AvgScrRead" DESC LIMIT 1', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('Please list the codes of the schools with a total enrollment of over 500.', 'SELECT T2."CDSCode" FROM public.schools AS T1 INNER JOIN public.frpm AS T2 ON T1."CDSCode" = T2."CDSCode" WHERE T2."Enrollment (K-12)" + T2."Enrollment (Ages 5-17)" > 500', 'public', '', 'Total enrollment can be represented by `Enrollment (K-12)` + `Enrollment (Ages 5-17)`');

SELECT alloydb_ai_nl.g_admit_example('Among the schools with an SAT excellence rate of over 0.3, what is the highest eligible free rate for students aged 5-17?', 'SELECT MAX(CAST(T1."Free Meal Count (Ages 5-17)" AS REAL) / T1."Enrollment (Ages 5-17)") FROM public.frpm AS T1 INNER JOIN public.satscores AS T2 ON T1."CDSCode" = T2.cds WHERE CAST(T2."NumGE1500" AS REAL) / T2."NumTstTakr" > 0.3', 'public', '', 'Excellence rate = "NumGE1500" / "NumTstTakr"; Eligible free rates for students aged 5-17 = `Free Meal Count (Ages 5-17)` / `Enrollment (Ages 5-17)`');

SELECT alloydb_ai_nl.g_admit_example('Please list the phone numbers of the schools with the top 3 SAT excellence rate.', 'SELECT T1."Phone" FROM public.schools AS T1 INNER JOIN public.satscores AS T2 ON T1."CDSCode" = T2.cds ORDER BY CAST(T2."NumGE1500" AS REAL) / T2."NumTstTakr" DESC LIMIT 3', 'public', '', 'Excellence rate = "NumGE1500" / "NumTstTakr"');

SELECT alloydb_ai_nl.g_admit_example('List the top five schools, by descending order, from the highest to the lowest, the most number of Enrollment (Ages 5-17). Please give their NCES school identification number.', 'SELECT T1."NCESSchool" FROM public.schools AS T1 INNER JOIN public.frpm AS T2 ON T1."CDSCode" = T2."CDSCode" ORDER BY T2."Enrollment (Ages 5-17)" DESC LIMIT 5', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('Which active district has the highest average score in Reading?', 'SELECT T1."District" FROM public.schools AS T1 INNER JOIN public.satscores AS T2 ON T1."CDSCode" = T2.cds WHERE T1."StatusType" = ''Active'' ORDER BY T2."AvgScrRead" DESC LIMIT 1', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('How many schools in merged Alameda have number of test takers less than 100?', 'SELECT COUNT(T1."CDSCode") FROM public.schools AS T1 INNER JOIN public.satscores AS T2 ON T1."CDSCode" = T2.cds WHERE T1."StatusType" = ''Merged'' AND T2."NumTstTakr" < 100 AND T1."County" = ''Alameda''', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('What is the charter number of the school that the average score in Writing is 499?', 'SELECT T1."CharterNum" FROM public.schools AS T1 INNER JOIN public.satscores AS T2 ON T1."CDSCode" = T2.cds WHERE T2."AvgScrWrite" = 499', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('How many schools in Contra Costa (directly funded) have number of test takers not more than 250?', 'SELECT COUNT(T1."CDSCode") FROM public.frpm AS T1 INNER JOIN public.satscores AS T2 ON T1."CDSCode" = T2.cds WHERE T1."Charter Funding Type" = ''Directly funded'' AND T1."County Name" = ''Contra Costa'' AND T2."NumTstTakr" <= 250', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('What is the phone number of the school that has the highest average score in Math?', 'SELECT T1."Phone" FROM public.schools AS T1 INNER JOIN public.satscores AS T2 ON T1."CDSCode" = T2.cds ORDER BY T2."AvgScrMath" DESC LIMIT 1', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('How many schools in Amador which the Low Grade is 9 and the High Grade is 12?', 'SELECT COUNT(T1."School Name") FROM public.frpm AS T1 INNER JOIN public.schools AS T2 ON T1."CDSCode" = T2."CDSCode" WHERE T2."County" = ''Amador'' AND T1."Low Grade" =  ''9'' AND T1."High Grade" =  ''12''', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('In Los Angeles how many schools have more than 500 free meals but less than 700 free or reduced price meals for K-12?', 'SELECT COUNT("CDSCode") FROM public.frpm WHERE "County Name" = ''Los Angeles'' AND "Free Meal Count (K-12)" > 500 AND "Free Meal Count (K-12)" < 700', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('Which school in Contra Costa has the highest number of test takers?', 'SELECT sname FROM public.satscores WHERE cname = ''Contra Costa'' AND sname IS NOT NULL ORDER BY "NumTstTakr" DESC LIMIT 1', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('List the names of schools with more than 30 difference in enrollements between K-12 and ages 5-17? Please also give the full street adress of the schools.', 'SELECT T1."School", T1."StreetAbr" FROM public.schools AS T1 INNER JOIN public.frpm AS T2 ON T1."CDSCode" = T2."CDSCode" WHERE T2."Enrollment (K-12)" - T2."Enrollment (Ages 5-17)" > 30', 'public', '', 'Diffrence in enrollement = `Enrollment (K-12)` - `Enrollment (Ages 5-17)`');

SELECT alloydb_ai_nl.g_admit_example('Give the names of the schools with the percent eligible for free meals in K-12 is more than 0.1 and test takers whose test score is greater than or equal to 1500?', 'SELECT T2."School Name" FROM public.satscores AS T1 INNER JOIN public.frpm AS T2 ON T1.cds = T2."CDSCode" WHERE CAST(T2."Free Meal Count (K-12)" AS REAL) / T2."Enrollment (K-12)" > 0.1 AND T1."NumGE1500" > 0', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('Name schools in Riverside which the average of average math score for SAT is grater than 400, what is the funding type of these schools?', 'SELECT T1.sname, T2."Charter Funding Type" FROM public.satscores AS T1 INNER JOIN public.frpm AS T2 ON T1.cds = T2."CDSCode" WHERE T2."District Name" LIKE ''Riverside%'' GROUP BY T1.sname, T2."Charter Funding Type" HAVING CAST(SUM(T1."AvgScrMath") AS REAL) / COUNT(T1.cds) > 400', 'public', '', 'Average of average math = sum(average math scores) / count(schools).');

SELECT alloydb_ai_nl.g_admit_example('State the names and full communication address of high schools in Monterey which has more than 800 free or reduced price meals for ages 15-17?', 'SELECT T1."School Name", T2."Zip", T2."Street", T2."City", T2."State" FROM public.frpm AS T1 INNER JOIN public.schools AS T2 ON T1."CDSCode" = T2."CDSCode" WHERE T2."County" = ''Monterey'' AND T1."Free Meal Count (Ages 5-17)" > 800 AND T1."School Type" = ''High Schools (Public)''', 'public', '', 'Full communication address should include "Zip", Street, "City", "State"');

SELECT alloydb_ai_nl.g_admit_example('What is the average score in writing for the schools that were opened after 1991 or closed before 2000? List the school names along with the score. Also, list the communication number of the schools if there is any.', 'SELECT T2."School", T1."AvgScrWrite", T2."Phone" FROM public.satscores AS T1 RIGHT JOIN public.schools AS T2 ON T1.cds = T2."CDSCode" WHERE CAST(substring(T2."OpenDate", 1, 4) AS integer) >= 1991 OR CAST(substring(T2."ClosedDate", 1, 4) AS integer) < 2000', 'public', '', 'Communication number refers to phone number.');

SELECT alloydb_ai_nl.g_admit_example('Consider the average difference between K-12 enrollment and 15-17 enrollment of schools that are locally funded, list the names and "DOC" type of schools which has a difference above this average.', 'SELECT T2."School", T2."DOC" FROM public.frpm AS T1 INNER JOIN public.schools AS T2 ON T1."CDSCode" = T2."CDSCode" WHERE T2."FundingType" = ''Locally funded'' AND (T1."Enrollment (K-12)" - T1."Enrollment (Ages 5-17)") > (SELECT AVG(T3."Enrollment (K-12)" - T3."Enrollment (Ages 5-17)") FROM public.frpm AS T3 INNER JOIN public.schools AS T4 ON T3."CDSCode" = T4."CDSCode" WHERE T4."FundingType" = ''Locally funded'')', 'public', '', 'Difference between K-12 enrollment and 15-17 enrollment can be computed by `Enrollment (K-12)` - `Enrollment (Ages 5-17)`');

SELECT alloydb_ai_nl.g_admit_example('When did the first-through-twelfth-grade school with the largest enrollment open?', 'SELECT T2."OpenDate" FROM public.frpm AS T1 INNER JOIN public.schools AS T2 ON T1."CDSCode" = T2."CDSCode" ORDER BY T1."Enrollment (K-12)" DESC LIMIT 1', 'public', '', 'K-12 means First-through-twelfth-grade');

SELECT alloydb_ai_nl.g_admit_example('Which cities have the top 5 lowest enrollment number for students in grades 1 through 12?', 'SELECT T2."City" FROM public.frpm AS T1 INNER JOIN public.schools AS T2 ON T1."CDSCode" = T2."CDSCode" GROUP BY T2."City" ORDER BY SUM(T1."Enrollment (K-12)") ASC LIMIT 5', 'public', '', 'K-12 refers to students in grades 1 through 12.');

SELECT alloydb_ai_nl.g_admit_example('What is the eligible free rate of the 10th and 11th schools with the highest enrolment for students in grades 1 through 12?', 'SELECT CAST("Free Meal Count (K-12)" AS REAL) / "Enrollment (K-12)" FROM public.frpm ORDER BY "Enrollment (K-12)" DESC LIMIT 2 OFFSET 9', 'public', '', 'K-12 refers to students in grades 1 through 12; Eligible free rate for K-12 = `Free Meal Count (K-12)` / `Enrollment (K-12)`');

SELECT alloydb_ai_nl.g_admit_example('What is the eligible free or reduced price meal rate for the top 5 schools in grades 1-12 with the highest free or reduced price meal count of the schools with the ownership code 66?', 'SELECT CAST(T1."FRPM Count (K-12)" AS REAL) / T1."Enrollment (K-12)" FROM public.frpm AS T1 INNER JOIN public.schools AS T2 ON T1."CDSCode" = T2."CDSCode" WHERE CAST(T2."SOC" AS integer) = 66 ORDER BY T1."FRPM Count (K-12)" DESC LIMIT 5', 'public', '', 'grades 1-12 means K-12; Eligible free or reduced price meal rate for K-12 = `FRPM Count (K-12)` / `Enrollment (K-12)`');

SELECT alloydb_ai_nl.g_admit_example('If there are any, what are the websites address of the schools with a free meal count of 1,900-2,000 to students aged 5-17? Include the name of the school.', 'SELECT T2."Website", T1."School Name" FROM public.frpm AS T1 INNER JOIN public.schools AS T2 ON T1."CDSCode" = T2."CDSCode" WHERE T1."Free Meal Count (Ages 5-17)" BETWEEN 1900 AND 2000 AND T2."Website" IS NOT NULL', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('What is the free rate for students between the ages of 5 and 17 at the school run by Kacey Gibson?', 'SELECT CAST(T2."Free Meal Count (Ages 5-17)" AS REAL) / T2."Enrollment (Ages 5-17)" FROM public.schools AS T1 INNER JOIN public.frpm AS T2 ON T1."CDSCode" = T2."CDSCode" WHERE T1."AdmFName1" = ''Kacey'' AND T1."AdmLName1" = ''Gibson''', 'public', '', 'Eligible free rates for students aged 5-17 = `Free Meal Count (Ages 5-17)` / `Enrollment (Ages 5-17)`');

SELECT alloydb_ai_nl.g_admit_example('What is the administrator''s email address of the chartered school with the fewest students enrolled in grades 1 through 12?', 'SELECT T2."AdmEmail1" FROM public.frpm AS T1 INNER JOIN public.schools AS T2 ON T1."CDSCode" = T2."CDSCode" WHERE T1."Charter School (Y/N)" = 1 ORDER BY T1."Enrollment (K-12)" ASC LIMIT 1', 'public', '', 'Charted school means `"Charter" School (Y/N)` = 1 in the table frpm; Students enrolled in grades 1 through 12 refers to `Enrollment (K-12)`');

SELECT alloydb_ai_nl.g_admit_example('Under whose administration does the school with the highest number of test takers whose total SAT Scores are greater or equal to 1500 belong to? Indicate his or her full name.', 'SELECT T2."AdmFName1", T2."AdmLName1", T2."AdmFName2", T2."AdmLName2", T2."AdmFName3", T2."AdmLName3" FROM public.satscores AS T1 INNER JOIN public.schools AS T2 ON T1.cds = T2."CDSCode" ORDER BY T1."NumGE1500" DESC LIMIT 1', 'public', '', 'full name means first name, last name; There are at most 3 administrators for each school; SAT Scores are greater or equal to 1500 refers to "NumGE1500"');

SELECT alloydb_ai_nl.g_admit_example('What is the complete address of the school with the lowest excellence rate? Indicate the Street, City, Zip and State.', 'SELECT T2."Street", T2."City", T2."Zip", T2."State" FROM public.satscores AS T1 INNER JOIN public.schools AS T2 ON T1.cds = T2."CDSCode" ORDER BY CAST(T1."NumGE1500" AS REAL) / T1."NumTstTakr" ASC LIMIT 1', 'public', '', 'Execellence Rate = "NumGE1500" / "NumTstTakr"; complete address has Street, "City", "State", "Zip" code');

SELECT alloydb_ai_nl.g_admit_example('What are the webpages for the Los Angeles "County" school that has between 2,000 and 3,000 test takers?', 'SELECT T2."Website" FROM public.satscores AS T1 INNER JOIN public.schools AS T2 ON T1.cds = T2."CDSCode" WHERE T1."NumTstTakr" BETWEEN 2000 AND 3000 AND T2."County" = ''Los Angeles''', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('What is the average number of test takers from Fresno schools that opened between 1/1/1980 and 12/31/1980?', 'SELECT AVG(T1."NumTstTakr") FROM public.satscores AS T1 INNER JOIN public.schools AS T2 ON T1.cds = T2."CDSCode" WHERE CAST(substring(T2."OpenDate", 1, 4) AS integer) = 1980 AND T2."County" = ''Fresno''', 'public', '', 'between 1/1/1980 and 12/31/1980 means the year = 1980');

SELECT alloydb_ai_nl.g_admit_example('What is the telephone number for the school with the lowest average score in reading in Fresno Unified?', 'SELECT T2."Phone" FROM public.satscores AS T1 INNER JOIN public.schools AS T2 ON T1.cds = T2."CDSCode" WHERE T2."District" = ''Fresno Unified'' AND T1."AvgScrRead" IS NOT NULL ORDER BY T1."AvgScrRead" ASC LIMIT 1', 'public', '', 'Fresno Unified is a name of district;');

SELECT alloydb_ai_nl.g_admit_example('Which exclusively virtual schools have the top 5 highest average reading scores?', 'SELECT T2."School" FROM public.satscores AS T1 INNER JOIN public.schools AS T2 ON T1.cds = T2."CDSCode" WHERE T2."Virtual" = ''F'' ORDER BY T1."AvgScrRead" DESC LIMIT 5', 'public', '', 'Exclusively virtual refers to "Virtual" = ''F''.');

SELECT alloydb_ai_nl.g_admit_example('What is the type of education offered in the school who scored the highest average in Math?', 'SELECT T2."EdOpsName" FROM public.satscores AS T1 INNER JOIN public.schools AS T2 ON T1.cds = T2."CDSCode" ORDER BY T1."AvgScrMath" DESC LIMIT 1', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('What is the average math score of the school with the lowest average score for all subjects, and in which county is it located?', 'SELECT T1."AvgScrMath", T2."County" FROM public.satscores AS T1 INNER JOIN public.schools AS T2 ON T1.cds = T2."CDSCode" WHERE T1."AvgScrMath" IS NOT NULL ORDER BY T1."AvgScrMath" + T1."AvgScrRead" + T1."AvgScrWrite" ASC LIMIT 1', 'public', '', 'Average score for all subjects can be computed by "AvgScrMath" + "AvgScrRead" + "AvgScrWrite"');

SELECT alloydb_ai_nl.g_admit_example('What is the average writing score of the school who has the highest number of test takers whose total SAT sscores are greater or equal to 1500? Indicate the city to where the school is situated.', 'SELECT T1."AvgScrWrite", T2."City" FROM public.satscores AS T1 INNER JOIN public.schools AS T2 ON T1.cds = T2."CDSCode" ORDER BY T1."NumGE1500" DESC LIMIT 1', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('What is the average writing score of each of the schools managed by Ricci Ulrich? List the schools and the corresponding average writing scores.', 'SELECT T2."School", T1."AvgScrWrite" FROM public.satscores AS T1 INNER JOIN public.schools AS T2 ON T1.cds = T2."CDSCode" WHERE T2."AdmFName1" = ''Ricci'' AND T2."AdmLName1" = ''Ulrich''', 'public', '', 'Usually, administrators manage the school stuff.');

SELECT alloydb_ai_nl.g_admit_example('Which state special schools have the highest number of enrollees from grades 1 through 12?', 'SELECT T2."State" FROM public.frpm AS T1 INNER JOIN public.schools AS T2 ON T1."CDSCode" = T2."CDSCode" WHERE CAST(T2."DOC" as integer) = 31 ORDER BY T1."Enrollment (K-12)" DESC LIMIT 1', 'public', '', '"State" Special Schools refers to "DOC" = 31; Grades 1 through 12 means K-12');

SELECT alloydb_ai_nl.g_admit_example('What is the monthly average number of schools that opened in Alameda "County" under the jurisdiction of the Elementary School "District" in 1980?', 'SELECT CAST(COUNT("School") AS REAL) / 12 FROM public.schools WHERE CAST("DOC" as integer) = 52 AND "County" = ''Alameda'' AND substring("OpenDate", 1, 4) = ''1980''', 'public', '', 'Elementary School District refers to DOC = 52; Monthly average number of schools that opened in 2018 = count(schools that opened in 1980) / 12');

SELECT alloydb_ai_nl.g_admit_example('What is the ratio of merged Unified School "District" schools in Orange "County" to merged Elementary School "District" schools?', 'SELECT CAST(SUM(CASE WHEN CAST("DOC" as integer) = 54 THEN 1 ELSE 0 END) AS REAL) / SUM(CASE WHEN CAST("DOC" as integer) = 52 THEN 1 ELSE 0 END) FROM public.schools WHERE "StatusType" = ''Merged'' AND "County" = ''Orange''', 'public', '', 'Elementary School District refers to DOC = 52; Unified School District refers to DOC = 54.');

SELECT alloydb_ai_nl.g_admit_example('Which different county has the most number of closed schools? Please provide the name of each school as well as the closure date.', 'SELECT DISTINCT "County", "School", "ClosedDate" FROM public.schools WHERE "County" = ( SELECT "County" FROM public.schools WHERE "StatusType" = ''Closed'' GROUP BY "County" ORDER BY COUNT("School") DESC LIMIT 1 ) AND "StatusType" = ''Closed'' AND "School" IS NOT NULL', 'public', '', 'Closure date and closed date are synonyms; ''Closed'' was mentioned in schools.StatusType.');

SELECT alloydb_ai_nl.g_admit_example('What is the postal street address for the school with the 6th highest Math average? Indicate the school''s name.', 'SELECT T2."MailStreet", T2."School" FROM public.satscores AS T1 INNER JOIN public.schools AS T2 ON T1.cds = T2."CDSCode" ORDER BY T1."AvgScrMath" DESC LIMIT 1 OFFSET 5', 'public', '', 'Postal street and mailing street are synonyms.');

SELECT alloydb_ai_nl.g_admit_example('In which mailing street address can you find the school that has the lowest average score in reading? Also give the school''s name.', 'SELECT T2."MailStreet", T2."School" FROM public.satscores AS T1 INNER JOIN public.schools AS T2 ON T1.cds = T2."CDSCode" WHERE T1."AvgScrRead" IS NOT NULL ORDER BY T1."AvgScrRead" ASC LIMIT 1', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('What is the total number of schools whose total SAT scores are greater or equal to 1500 whose mailing city is Lakeport?', 'SELECT COUNT(T1.cds) FROM public.satscores AS T1 INNER JOIN public.schools AS T2 ON T1.cds = T2."CDSCode" WHERE T2."MailCity" = ''Lakeport'' AND (T1."AvgScrRead" + T1."AvgScrMath" + T1."AvgScrWrite") >= 1500', 'public', '', 'Total SAT scores can be computed by AvgScrRead + AvgScrMath + AvgScrWrite');

SELECT alloydb_ai_nl.g_admit_example('How many test takers are there at the school/s whose mailing city address is in Fresno?', 'SELECT T1."NumTstTakr" FROM public.satscores AS T1 INNER JOIN public.schools AS T2 ON T1.cds = T2."CDSCode" WHERE T2."MailCity" = ''Fresno''', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('Please specify all of the schools and their related mailing zip codes that are under Avetik Atoian''s administration.', 'SELECT "School", "MailZip" FROM public.schools WHERE "AdmFName1" = ''Avetik'' AND "AdmLName1" = ''Atoian''', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('Of the schools with a mailing state address in California, what is the ratio of the schools located in the county of Colusa against the school located in the county of Humboldt?', 'SELECT CAST(SUM(CASE WHEN "County" = ''Colusa'' THEN 1 ELSE 0 END) AS REAL) / SUM(CASE WHEN "County" = ''Humboldt'' THEN 1 ELSE 0 END) FROM public.schools WHERE "MailState" = ''CA''', 'public', '', 'Ratio = count(schools in Colusa) / count(schools in Humboldt)');

SELECT alloydb_ai_nl.g_admit_example('Of all the schools with a mailing state address in California, how many are active in San Joaquin?', 'SELECT COUNT("CDSCode") FROM public.schools WHERE "City" = ''San Joaquin'' AND "MailState" = ''CA'' AND "StatusType" = ''Active''', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('What is the phone number and extension number for the school that had the 333rd highest average writing score?', 'SELECT T2."Phone", T2."Ext" FROM public.satscores AS T1 INNER JOIN public.schools AS T2 ON T1.cds = T2."CDSCode" ORDER BY T1."AvgScrWrite" DESC LIMIT 1 OFFSET 332', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('What is the phone number and extension number for the school with the zip code 95203-3704? Indicate the school''s name.', 'SELECT "Phone", "Ext", "School" FROM public.schools WHERE "Zip" = ''95203-3704''', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('What is the website for the schools under the administrations of Mike Larson and Dante Alvarez?', 'SELECT "Website" FROM public.schools WHERE ("AdmFName1" = ''Mike'' AND "AdmLName1" = ''Larson'') OR ("AdmFName1" = ''Dante'' AND "AdmLName1" = ''Alvarez'')', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('What are the websites for all the partially virtual chartered schools located in San Joaquin?', 'SELECT "Website" FROM public.schools WHERE "County" = ''San Joaquin'' AND "Virtual" = ''P'' AND "Charter" = 1', 'public', '', '"Virtual" = ''P'' means partially virtual; "Charter" schools refers to "Charter" = 1 in the table schools');

SELECT alloydb_ai_nl.g_admit_example('How many chartered schools located in the city of Hickman are owned by the Elementary School "District"?', 'SELECT COUNT("School") FROM public.schools WHERE CAST("DOC" as integer) = 52 AND "Charter" = 1 AND "City" = ''Hickman''', 'public', '', 'Elementary School "District" refers to "DOC" = 52; "Charter"ed schools refer to "Charter" = 1 in the table schools');

SELECT alloydb_ai_nl.g_admit_example('What is the total number of non-chartered schools in the county of Los Angeles with a percent (%) of eligible free meals for grades 1 through 12 that is less than 0.18%?', 'SELECT COUNT(T2."School") FROM public.frpm AS T1 INNER JOIN public.schools AS T2 ON T1."CDSCode" = T2."CDSCode" WHERE T2."County" = ''Los Angeles'' AND T2."Charter" = 0 AND CAST(T1."Free Meal Count (K-12)" AS REAL) * 100 / T1."Enrollment (K-12)" < 0.18', 'public', '', 'non-chartered schools refer to schools whose "Charter" = 0; K-12 means grades 1 through 12; percent of eligible free rate for K-12 = `Free Meal Count (K-12)` * 100 / `Enrollment (K-12)`');

SELECT alloydb_ai_nl.g_admit_example('In chartered schools with charter number 00D2, what are the names of all the administrators? Include the name of the school and the city to which it belongs', 'SELECT "AdmFName1", "AdmLName1", "School", "City" FROM public.schools WHERE "Charter" = 1 AND "CharterNum" = ''00D2''', 'public', '', '"Charter"ed schools refer to "Charter" = 1 in the table schools; Full name refers to first name, last name');

SELECT alloydb_ai_nl.g_admit_example('What is the total number of schools with a mailing city in Hickman belonging to the charter number 00D4?', 'SELECT COUNT(*) FROM public.schools WHERE "CharterNum" = ''00D4'' AND "MailCity" = ''Hickman''', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('What is the ratio in percentage of Santa Clara "County" schools that are locally funded compared to all other types of charter school funding?', 'SELECT CAST(SUM(CASE WHEN "FundingType" = ''Locally funded'' THEN 1 ELSE 0 END) AS REAL) * 100 / SUM(CASE WHEN "FundingType" != ''Locally funded'' THEN 1 ELSE 0 END) FROM public.schools WHERE "County" = ''Santa Clara'' AND "Charter" = 1', 'public', '', 'Ratio in percentage = (count(locally funded schools in Santa Clara) / count(all funding type schools in Santa Clara) * 100%');

SELECT alloydb_ai_nl.g_admit_example('Between 1/1/2000 to 12/31/2005, how many directly funded schools opened in the county of Stanislaus?', 'SELECT COUNT("School") FROM public.schools WHERE substring("OpenDate", 1, 4) BETWEEN ''2000'' AND ''2005'' AND "County" = ''Stanislaus'' AND "FundingType" = ''Directly funded''', 'public', '', 'Directly funded schools refers to "FundingType" = ''Directly Funded''');

SELECT alloydb_ai_nl.g_admit_example('What is the total amount of Community College "District" closure in 1989 in the city of San Francisco?', 'SELECT COUNT("School") FROM public.schools WHERE substring("ClosedDate", 1, 4) = ''1989'' AND "City" = ''San Francisco'' AND "DOCType" = ''Community College "District"''', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('Which county reported the most number of school closure in the 1980s with school wonership code belonging to Youth Authority Facilities (CEA)?', 'SELECT "County" FROM public.schools WHERE substring("ClosedDate", 1, 4) BETWEEN ''1980'' AND ''1989'' AND "StatusType" = ''Closed'' AND CAST("SOC" as integer) = 11 GROUP BY "County" ORDER BY COUNT("School") DESC LIMIT 1', 'public', '', 'Youth Authority Facilities (CEA) refers to "SOC" = 11; 1980s = years between 1980 and 1989');

SELECT alloydb_ai_nl.g_admit_example('Please provide the National Center for Educational Statistics school district identification number for all schools with a School Ownership Code that are part of the "State" Special Schools.', 'SELECT "NCESDist" FROM public.schools WHERE CAST("SOC" as integer) = 31', 'public', '', '"State" Special Schools means that "SOC" = 31.');

SELECT alloydb_ai_nl.g_admit_example('How many active and closed "District" Community Day Schools are there in the county of Alpine?', 'SELECT COUNT("School") FROM public.schools WHERE ("StatusType" = ''Closed'' OR "StatusType" = ''Active'') AND "County" = ''Alpine''', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('What is the district code for the School that does not offer a magnet program in the city of Fresno?', 'SELECT T1."District Code" FROM public.frpm AS T1 INNER JOIN public.schools AS T2 ON T1."CDSCode" = T2."CDSCode" WHERE T2."City" = ''Fresno'' AND T2."Magnet" = 0', 'public', '', 'When magent is equal to 0 in the database, it means ths school doesn''t offer a magnet program.');

SELECT alloydb_ai_nl.g_admit_example('How many students from the ages of 5 to 17 are enrolled at the "State" Special School school in Fremont for the 2014-2015 academic year?', 'SELECT T1."Enrollment (Ages 5-17)" FROM public.frpm AS T1 INNER JOIN public.schools AS T2 ON T1."CDSCode" = T2."CDSCode" WHERE T2."EdOpsCode" = ''SSS'' AND CAST(substring(T1."Academic Year", 1, 4) AS integer) BETWEEN 2014 AND 2015', 'public', '', 'State Special School means EdOpsCode = ''SSS''');

SELECT alloydb_ai_nl.g_admit_example('What is the free or reduced price meal count for ages 5 to 17 in the Youth Authority School with a mailing street address of PO Box 1040?', 'SELECT T1."FRPM Count (Ages 5-17)" FROM public.frpm AS T1 INNER JOIN public.schools AS T2 ON T1."CDSCode" = T2."CDSCode" WHERE T2."MailStreet" = ''PO Box 1040'' AND T2."SOCType" = ''Youth Authority Facilities''', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('What is the lowest grade for the "District" Special Education Consortia School with National Center for Educational Statistics school district identification number of 613360?', 'SELECT MIN(T1."Low Grade") FROM public.frpm AS T1 INNER JOIN public.schools AS T2 ON T1."CDSCode" = T2."CDSCode" WHERE CAST(T2."NCESDist" as integer) = 613360 AND T2."EdOpsCode" = ''SPECON''', 'public', '', 'District Special Education Consortia School refers to EdOpsCode = ''SPECON''.');

SELECT alloydb_ai_nl.g_admit_example('What is the educational level name for the schools with Breakfast Provision 2 in county code 37? Indicate the name of the school.', 'SELECT T2."EILName", T2."School" FROM public.frpm AS T1 INNER JOIN public.schools AS T2 ON T1."CDSCode" = T2."CDSCode" WHERE T1."NSLP Provision Status" = ''Breakfast Provision 2'' AND CAST(T1."County Code" as integer) = 37', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('What is the city location of the high school level school with Lunch Provision 2 whose lowest grade is 9 and the highest grade is 12 in the county of Merced?', 'SELECT T2."City" FROM public.frpm AS T1 INNER JOIN public.schools AS T2 ON T1."CDSCode" = T2."CDSCode" WHERE T1."NSLP Provision Status" = ''Lunch Provision 2'' AND T2."County" = ''Merced'' AND T1."Low Grade" = CAST(9 as text) AND T1."High Grade" = CAST(12 as text) AND T2."EILCode" = ''HS''', 'public', '', 'High school can be represented as "EILCode" = ''HS''');

SELECT alloydb_ai_nl.g_admit_example('Which schools served a grade span of Kindergarten to 9th grade in the county of Los Angeles and what is its Percent (%) Eligible FRPM (Ages 5-17)?', 'SELECT T2."School", T1."FRPM Count (Ages 5-17)" * 100 / T1."Enrollment (Ages 5-17)" FROM public.frpm AS T1 INNER JOIN public.schools AS T2 ON T1."CDSCode" = T2."CDSCode" WHERE T2."County" = ''Los Angeles'' AND T2."GSserved" = ''K-9''', 'public', '', 'Percent (%) Eligible FRPM (Ages 5-17) can be acquired by `Free Meal Count (Ages 5-17)` / `Enrollment (Ages 5-17)` * 100%');

SELECT alloydb_ai_nl.g_admit_example('What is the most common type of grade span served in the city of Adelanto?', 'SELECT "GSserved" FROM public.schools WHERE "City" = ''Adelanto'' GROUP BY "GSserved" ORDER BY COUNT("GSserved") DESC LIMIT 1', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('Between San Diego and Santa Barbara, which county offers the most number of schools that does not offer physical building? Indicate the amount.', 'SELECT "County", COUNT("Virtual") FROM public.schools WHERE ("County" = ''San Diego'' OR "County" = ''Santa Barbara'') AND "Virtual" = ''F'' GROUP BY "County" ORDER BY COUNT("Virtual") DESC LIMIT 1', 'public', '', '''Does not offer physical building'' means "Virtual" = F in the database.');

SELECT alloydb_ai_nl.g_admit_example('What is the school type of the school with the highest latitude? Indicate the name of the school as well as the latitude coordinates.', 'SELECT T1."School Type", T1."School Name", T2."Latitude" FROM public.frpm AS T1 INNER JOIN public.schools AS T2 ON T1."CDSCode" = T2."CDSCode" ORDER BY T2."Latitude" DESC LIMIT 1', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('In which city can you find the school in the state of California with the lowest latitude coordinates and what is its lowest grade? Indicate the school name.', 'SELECT T2."City", T1."Low Grade", T1."School Name" FROM public.frpm AS T1 INNER JOIN public.schools AS T2 ON T1."CDSCode" = T2."CDSCode" WHERE T2."State" = ''CA'' ORDER BY T2."Latitude" ASC LIMIT 1', 'public', '', '"State" of California refers to state = ''CA''');

SELECT alloydb_ai_nl.g_admit_example('What is the grade span offered in the school with the highest "Longitude"?', 'SELECT "GSoffered" FROM public.schools ORDER BY ABS("Longitude") DESC LIMIT 1', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('Of the schools that offers a magnet program serving a grade span of Kindergarten to 8th grade, how many offers Multiple Provision Types? List the number of cities that offers a Kindergarten to 8th grade span and indicate how many schools are there serving such grade span for each city.', 'SELECT T2."City", COUNT(T2."CDSCode") FROM public.frpm AS T1 INNER JOIN public.schools AS T2 ON T1."CDSCode" = T2."CDSCode" WHERE T2."Magnet" = 1 AND T2."GSoffered" = ''K-8'' AND T1."NSLP Provision Status" = ''Multiple Provision Types'' GROUP BY T2."City"', 'public', '', 'Kindergarten to 8th grade refers to K-8; ''Offers a magnet program'' means "Magnet" = 1.');

SELECT alloydb_ai_nl.g_admit_example('What are the two most common first names among the school administrators? Indicate the district to which they administer.', 'SELECT DISTINCT T1."AdmFName1", T1."District" FROM public.schools AS T1 INNER JOIN ( SELECT "AdmFName1" FROM public.schools GROUP BY "AdmFName1" ORDER BY COUNT("AdmFName1") DESC LIMIT 2 ) AS T2 ON T1."AdmFName1" = T2."AdmFName1"', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('What is the Percent (%) Eligible Free (K-12) in the school administered by an administrator whose first name is Alusine. List the district code of the school.', 'SELECT T1."Free Meal Count (K-12)" * 100 / T1."Enrollment (K-12)", T1."District Code" FROM public.frpm AS T1 INNER JOIN public.schools AS T2 ON T1."CDSCode" = T2."CDSCode" WHERE T2."AdmFName1" = ''Alusine''', 'public', '', 'Percent (%) Eligible Free (K-12) = `Free Meal Count (K-12)` / `Enrollment (K-12)` * 100%');

SELECT alloydb_ai_nl.g_admit_example('What is the administrator''s last name that oversees the school with "Charter" number 40? Indicate the district, the county where the school is situated, and the name of the school.', 'SELECT "AdmLName1", "District", "County", "School" FROM public.schools WHERE "CharterNum" = ''0040''', 'public', '', '');

SELECT alloydb_ai_nl.g_admit_example('What is the e-mail address of the administrator of the school located in the San Bernardino county, "District" of San Bernardino "City" Unified that opened between 1/1/2009 to 12/31/2010 whose school types are public Intermediate/Middle Schools and Unified Scools?', 'SELECT T2."AdmEmail1" FROM public.frpm AS T1 INNER JOIN public.schools AS T2 ON T1."CDSCode" = T2."CDSCode" WHERE T2."County" = ''San Bernardino'' AND T2."City" = ''San Bernardino'' AND CAST(T2."DOC" as integer) = 54 AND substring(T2."OpenDate", 1, 4) BETWEEN ''2009'' AND ''2010'' AND CAST(T2."SOC" as integer) = 62', 'public', '', 'Intermediate/Middle Schools refers to SOC = 62; Unified School refers to DOC = 54; years between 2009 and 2010 can refer to ''between 1/1/2009 to 12/31/2010''');

SELECT alloydb_ai_nl.g_admit_example('What is the administrator''s email address for the school with the highest number of test takers who received SAT scores of at least 1500?Provide the name of the school.', 'SELECT T2."AdmEmail1", T2."School" FROM public.satscores AS T1 INNER JOIN public.schools AS T2 ON T1.cds = T2."CDSCode" ORDER BY T1."NumGE1500" DESC LIMIT 1', 'public', '', '');
